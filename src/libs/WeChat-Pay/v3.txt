好的，为您编写一个微信支付 V3 版本的**付款码支付（Native Pay for Scan Code）**示例。

微信支付 V3 接口使用 JSON 格式、基于 SHA256 with RSA 的数字签名、以及 平台证书 进行验签和身份认证。这与您之前的 V2 版本在技术实现上有本质区别。
以下代码示例是基于 Node.js 环境。

⚠️ 前提条件：
    1. 您必须有一个已开通 V3 接口的微信支付商户号（MCHID）。
    2. 已获取 API v3 密钥（用于敏感信息加密/解密）。
    3. 已生成并下载 API 证书（私钥文件和公钥证书文件），私钥用于签名。
    4. 平台证书的下载和管理（虽然付款码支付请求不需要平台证书，但处理异步通知时需要）。
    5. 为了代码简洁和安全，建议使用封装好的 V3 SDK 库（例如社区流行的 wechatpay-node-v3 或类似的库）来处理复杂的签名和验签逻辑。

由于 V3 签名逻辑复杂，我将展示一个结构清晰、安全可靠的集成方案，重点在于请求头和数据体的构建。